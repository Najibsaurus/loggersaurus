{"version":3,"sources":["../src/client.ts"],"names":["createClientLogger","config","endpoint","sendLog","level","data","payload","clientLogger"],"mappings":"AASA,SAASA,EAAmBC,CAAAA,CAA6B,EAAC,CAAG,CAC3D,IAAMC,CAAAA,CAAWD,CAAAA,CAAO,QAAA,EAAY,UAAA,CAE9BE,EAAU,CAACC,CAAAA,CAAiBC,CAAAA,GAAkB,CAClD,IAAMC,CAAAA,CAAU,IAAA,CAAK,SAAA,CAAU,CAAE,MAAAF,CAAAA,CAAO,GAAGC,CAAK,CAAC,EAE7C,OAAO,SAAA,CAAc,GAAA,EAAe,SAAA,CAAU,WAChD,SAAA,CAAU,UAAA,CAAWH,EAAUI,CAAO,CAAA,CAEtC,MAAMJ,CAAAA,CAAU,CACd,MAAA,CAAQ,MAAA,CACR,KAAMI,CAAAA,CACN,OAAA,CAAS,CAAE,cAAA,CAAgB,kBAAmB,CAAA,CAC9C,SAAA,CAAW,IACb,CAAC,EAAE,KAAA,CAAM,OAAA,CAAQ,KAAK,EAE1B,EAEA,OAAO,CACL,IAAA,CAAOD,CAAAA,EAAkBF,SAAuBE,CAAI,CAAA,CACpD,IAAA,CAAOA,CAAAA,EAAkBF,SAAuBE,CAAI,CAAA,CACpD,KAAA,CAAQA,CAAAA,EAAkBF,UAAwBE,CAAI,CACxD,CACF,CAEO,IAAME,EAAeP,CAAAA","file":"client.mjs","sourcesContent":["\"use client\";\n\nimport type { LogData } from \"./types\";\nimport { LogLevel } from \"./types\";\n\ntype ClientLoggerConfig = {\n  endpoint?: string;\n};\n\nfunction createClientLogger(config: ClientLoggerConfig = {}) {\n  const endpoint = config.endpoint || \"/api/log\";\n\n  const sendLog = (level: LogLevel, data: LogData) => {\n    const payload = JSON.stringify({ level, ...data });\n\n    if (typeof navigator !== \"undefined\" && navigator.sendBeacon) {\n      navigator.sendBeacon(endpoint, payload);\n    } else {\n      fetch(endpoint, {\n        method: \"POST\",\n        body: payload,\n        headers: { \"Content-Type\": \"application/json\" },\n        keepalive: true,\n      }).catch(console.error);\n    }\n  };\n\n  return {\n    info: (data: LogData) => sendLog(LogLevel.INFO, data),\n    warn: (data: LogData) => sendLog(LogLevel.WARN, data),\n    error: (data: LogData) => sendLog(LogLevel.ERROR, data),\n  };\n}\n\nexport const clientLogger = createClientLogger();\nexport { createClientLogger };\n"]}